<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Gernal packages configurations</a>
<ul>
<li><a href="#sec-1-1">1.1. Auto complete using company-mode</a></li>
<li><a href="#sec-1-2">1.2. Manage the dash package</a></li>
<li><a href="#sec-1-3">1.3. Config the backups</a></li>
<li><a href="#sec-1-4">1.4. Save files</a></li>
<li><a href="#sec-1-5">1.5. Save history</a></li>
<li><a href="#sec-1-6">1.6. Org mode</a>
<ul>
<li><a href="#sec-1-6-1">1.6.1. Org-mode Base configuration</a></li>
<li><a href="#sec-1-6-2">1.6.2. Org-mode Agenda view configuration</a></li>
<li><a href="#sec-1-6-3">1.6.3. Org-mode table shift configuration</a></li>
<li><a href="#sec-1-6-4">1.6.4. Key bindings configurations</a></li>
<li><a href="#sec-1-6-5">1.6.5. Key binding for org-mode</a></li>
</ul>
</li>
<li><a href="#sec-1-7">1.7. Macros</a>
<ul>
<li><a href="#sec-1-7-1">1.7.1. Key bindings configuration for Macros</a></li>
<li><a href="#sec-1-7-2">1.7.2. Key bindings for Macros</a></li>
</ul>
</li>
<li><a href="#sec-1-8">1.8. Markdown mode</a>
<ul>
<li><a href="#sec-1-8-1">1.8.1. Configuration</a></li>
</ul>
</li>
<li><a href="#sec-1-9">1.9. Tramp</a>
<ul>
<li><a href="#sec-1-9-1">1.9.1. Configuration</a></li>
</ul>
</li>
<li><a href="#sec-1-10">1.10. <span class="done DONE">DONE</span> Winner mode - undo and redo window configuration</a></li>
<li><a href="#sec-1-11">1.11. <span class="done DONE">DONE</span> Mode line format</a></li>
<li><a href="#sec-1-12">1.12. <span class="done DONE">DONE</span> Undo tree</a></li>
<li><a href="#sec-1-13">1.13. <span class="done DONE">DONE</span> Help - guide key</a></li>
<li><a href="#sec-1-14">1.14. <span class="done DONE">DONE</span> Encoding configruation</a></li>
<li><a href="#sec-1-15">1.15. <span class="done DONE">DONE</span> Helm</a>
<ul>
<li><a href="#sec-1-15-1">1.15.1. Configuration</a></li>
</ul>
</li>
<li><a href="#sec-1-16">1.16. <span class="done DONE">DONE</span> Helm-swoop</a></li>
<li><a href="#sec-1-17">1.17. <span class="done DONE">DONE</span> Snippets</a></li>
<li><a href="#sec-1-18">1.18. <span class="done DONE">DONE</span> Avy</a></li>
<li><a href="#sec-1-19">1.19. <span class="done DONE">DONE</span> Ace-isearch mode</a></li>
<li><a href="#sec-1-20">1.20. <span class="done DONE">DONE</span> Edit-list</a></li>
<li><a href="#sec-1-21">1.21. <span class="done DONE">DONE</span> Zap to isearch</a></li>
<li><a href="#sec-1-22">1.22. Projectile - Project management</a>
<ul>
<li><a href="#sec-1-22-1">1.22.1. Configuration</a></li>
<li><a href="#sec-1-22-2">1.22.2. Key binding for helm-projectile</a></li>
</ul>
</li>
<li><a href="#sec-1-23">1.23. Chinese-font-setup</a>
<ul>
<li><a href="#sec-1-23-1">1.23.1. Configuration</a></li>
<li><a href="#sec-1-23-2">1.23.2. Shot key binding</a></li>
</ul>
</li>
<li><a href="#sec-1-24">1.24. <span class="todo WAITING">WAITING</span> Smartparens</a>
<ul>
<li><a href="#sec-1-24-1">1.24.1. Configuration</a></li>
</ul>
</li>
<li><a href="#sec-1-25">1.25. Expand-region</a>
<ul>
<li><a href="#sec-1-25-1">1.25.1. Configuration</a></li>
<li><a href="#sec-1-25-2">1.25.2. Key bindings for Expand-region</a></li>
</ul>
</li>
<li><a href="#sec-1-26">1.26. Swap-buffer</a>
<ul>
<li><a href="#sec-1-26-1">1.26.1. Configuration</a></li>
</ul>
</li>
<li><a href="#sec-1-27">1.27. Email Reader - Mu4e</a></li>
<li><a href="#sec-1-28">1.28. Multiple cursors mode</a>
<ul>
<li><a href="#sec-1-28-1">1.28.1. Configuration</a></li>
<li><a href="#sec-1-28-2">1.28.2. Short-key binding</a></li>
</ul>
</li>
<li><a href="#sec-1-29">1.29. Latex mode</a></li>
<li><a href="#sec-1-30">1.30. <span class="todo TODO">TODO</span> Wgrep</a></li>
<li><a href="#sec-1-31">1.31. Tabbar</a>
<ul>
<li><a href="#sec-1-31-1">1.31.1. Configuration</a></li>
<li><a href="#sec-1-31-2">1.31.2. Key binding</a></li>
</ul>
</li>
<li><a href="#sec-1-32">1.32. Perspective</a>
<ul>
<li><a href="#sec-1-32-1">1.32.1. Configuration</a></li>
</ul>
</li>
<li><a href="#sec-1-33">1.33. Ido</a>
<ul>
<li><a href="#sec-1-33-1">1.33.1. Configuration</a></li>
</ul>
</li>
<li><a href="#sec-1-34">1.34. Multiple Major Mode</a>
<ul>
<li><a href="#sec-1-34-1">1.34.1. Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>


# Gernal packages configurations<a id="sec-1" name="sec-1"></a>

当前分类下，列出支持的包的配置信息。

## Auto complete using company-mode<a id="sec-1-1" name="sec-1-1"></a>

自动完成功能的配置，可以基于它针对不同的语言进行配置自动提示功能；

      ;; Turn on auto complete.
    ;;  (require 'auto-complete-config)       
      ;;(ac-config-default)
    
    (use-package company
      :defer t
      :config (add-hook 'prog-mode-hook 'company-mode))

## Manage the dash package<a id="sec-1-2" name="sec-1-2"></a>

此包用于在macbook上调用dash应用的功能，其它操作系统可以不用；

    (use-package dash
      :defer t)

## Config the backups<a id="sec-1-3" name="sec-1-3"></a>

配置自动备份；

    ;;(setq backup-directory-alist '(("." . "~/.emacs.d/backups")))
    (setq backup-directory-alist '(("." . (expand-file-name "backups" user-emacs-directory))))

## Save files<a id="sec-1-4" name="sec-1-4"></a>

Emacs中的自动保存功能，单独存储在另一个文件夹中。

    (setq delete-old-versions -1)
    (setq version-control t)
    (setq vc-make-backup-files t)
    (setq auto-save-file-name-transforms '((".*" "~/.emacs.d/auto-save-list/" t)))
    ;;(setq auto-save-file-name-transforms '((".*" (expand-file-name "auto-save-list" user-emacs-directory) t)))

## Save history<a id="sec-1-5" name="sec-1-5"></a>

保存历史记录
From <http://www.wisdomandwonder.com/wordpress/wp-content/uploads/2014/03/C3F.html>

    ;;(setq savehist-file "~/.emacs.d/savehist")
    (setq savehist-file (expand-file-name "savehist" user-emacs-directory))
    (savehist-mode 1)
    (setq history-length t)
    (setq history-delete-duplicates t)
    (setq savehist-save-minibuffer-history 1)
    (setq savehist-additional-variables
          '(kill-ring
            search-ring
            regexp-search-ring))

## Org mode<a id="sec-1-6" name="sec-1-6"></a>

### Org-mode Base configuration<a id="sec-1-6-1" name="sec-1-6-1"></a>

For org mode base configuration, please find [Init-Org-mode](../03-For-an-editor/init-org-mode.md).

    ;; load my own org-mode configuration from init-org-mode.el
      (starter-kit-load "03-For-an-editor/init-org-mode.org")
    ;;(require 'init-org-mode)
    ;;(load-library "init-org-mode")

### Org-mode Agenda view configuration<a id="sec-1-6-2" name="sec-1-6-2"></a>

For org mode agenda view configuration, please find  [Init-Org-Agenda-View](../03-For-an-editor/init-org-agenda-view.md).

    ;; load my own org-mode configuration from init-org-agenda-view.el
      (starter-kit-load "03-For-an-editor/init-org-agenda-view.org")
    ;;(require 'init-org-agenda-view)
    ;;(load-library "init-org-agenda-view")

### Org-mode table shift configuration<a id="sec-1-6-3" name="sec-1-6-3"></a>

For org mode agenda view configuration, please find  [Init-Org-table-shift](../03-For-an-editor/init-org-table-shift.md).

    ;; load my own org-mode configuration from init-org-table-shift.el
       (starter-kit-load "03-For-an-editor/init-org-table-shift.org")
    ;;(require 'init-org-table-shift)
    ;;(load-library "init-org-table-shift")

### Key bindings configurations<a id="sec-1-6-4" name="sec-1-6-4"></a>

    ;; -----------------------------------------
    ;;key bindings for org mode
    ;; -----------------------------------------
    
    (global-unset-key (kbd "C-'")) ;; this setting has no use, and conflict with smart
    
    
    ;;(global-set-key (kbd "<f12>") 'org-agenda) ;; configured blew
    (global-set-key (kbd "<f9> c") 'calendar)
    (global-set-key (kbd "<f9> v") 'visible-mode)
    (global-set-key (kbd "C-c c") 'org-capture)
    
    ;; add ~/notes/front-end-dev-plan.org into agenda
    ;; (setq org-agenda-files (list "~/notes/front-end-dev-plan.org"))
    (global-set-key "\C-c a" 'org-agenda)
    ;; I use C-c c to start capture mode
    (global-set-key (kbd "C-c c") 'org-capture)
    
    
    ;; config for export-mutilpul files
    (global-set-key (kbd "C-<f12>") 'bh/save-then-publish)
    
    ;; config for clocking
    (global-set-key (kbd "<f9> I") 'bh/punch-in)
    (global-set-key (kbd "<f9> O") 'bh/punch-out)
    
    (global-set-key (kbd "<f9> l") 'org-toggle-link-display)
    (global-set-key (kbd "<f9> SPC") 'bh/clock-in-last-task)
    
    (global-set-key (kbd "<f11>") 'org-clock-goto)
    (global-set-key (kbd "C-<f11>") 'org-clock-in)

### Key binding for org-mode<a id="sec-1-6-5" name="sec-1-6-5"></a>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> Org-mode快捷键</caption>

<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">分类</th>
<th scope="col" class="left">快捷键</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>

<tbody>
<tr>
<td class="left">org-mode</td>
<td class="left">C-RET</td>
<td class="left">加入同级别索引</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-RET</td>
<td class="left">加入同级别的列表</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-t</td>
<td class="left">设置TODO标签</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-left/M-right</td>
<td class="left">修改任务等级，子任务不跟着变化</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-S-up/down</td>
<td class="left">调整此任务节点等级，子任务跟着变化</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c -</td>
<td class="left">更换列表标记(循环)</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-S-RET</td>
<td class="left">新增一个子项</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-up/M-down</td>
<td class="left">调整此任务节点的顺序</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c b</td>
<td class="left">只编辑当前级别列表</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">outline</td>
<td class="left">C-c C-p</td>
<td class="left">上一个标题</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-n</td>
<td class="left">下一下</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-f</td>
<td class="left">同一级的上一个</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-b</td>
<td class="left">同一级的下一个</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-u</td>
<td class="left">回到上一级标题</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-j</td>
<td class="left">跳转标题</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">column</td>
<td class="left">C-c C-x C-c</td>
<td class="left">打开column视图模式</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">r</td>
<td class="left">刷新</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">q</td>
<td class="left">退出</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left"><left> <right> <up> <down></td>
<td class="left">视图之间跳转</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">v</td>
<td class="left">查看属性完整值</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x i</td>
<td class="left">插入column视图在文件中</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x C-u</td>
<td class="left">更新column视图中的值，需要进入表格中执行</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-u C-c C-x C-u</td>
<td class="left">更新此文件中所有的column视图内容</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Property</td>
<td class="left">C-c C-x p</td>
<td class="left">设置一个属性</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x p COLUMN</td>
<td class="left">设置column，内容可以为%25ITEM 10%ITEM 5%TODO 30%SCEDULE 30%DEADLINE</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Tags</td>
<td class="left">C-c C-c C-c</td>
<td class="left">打开tag选择窗口，然后通过字母索引选择tag</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">SPC</td>
<td class="left">清除所有tag</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-c</td>
<td class="left">可以直接输入tag的单词直接进行选择</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x C-c</td>
<td class="left">打开列展示视图</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">q</td>
<td class="left">退出列视图</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Planning</td>
<td class="left">C-c .</td>
<td class="left">设置时间</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">S-left/S-right</td>
<td class="left">在日历中选择时间</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-n/M-p</td>
<td class="left">设置任务的优先级</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-s</td>
<td class="left">设置任务开始时间, schedlued</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-d</td>
<td class="left">设置任务结束时间，deadline</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c / d</td>
<td class="left">显示警告天数之内的Deadline任务</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-u C-c / d</td>
<td class="left">显示所有的deadline任务</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-1 C-c / d</td>
<td class="left">查看一天之内接近的deadline任务列表</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c / b</td>
<td class="left">查看指定日期之前的deadline, schedule任务列表</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c / a</td>
<td class="left">查看指定日期之后的deadline, schedule任务列表</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c .</td>
<td class="left">插入时间(Timestamps)</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">S-left/right</td>
<td class="left">光标在时间上时，用于往前一天往后一天调整</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Clocking</td>
<td class="left">C-c C-x C-i</td>
<td class="left">开始clock</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x C-o</td>
<td class="left">退出clock</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x C-r</td>
<td class="left">插入clock table</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x ;</td>
<td class="left">Start a count down time</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Agenda</td>
<td class="left">C-c a</td>
<td class="left">打开agenda view, 然后根据显示视图进行选择性显示</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c [</td>
<td class="left">添加当前文件进入agenda-view-file中</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c ]</td>
<td class="left">删除当前文件从agenda-view-file中</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x <</td>
<td class="left">强制限制只使用当前文件或当前节点来显示agenda-view</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x ></td>
<td class="left">取消以上限制</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c a t</td>
<td class="left">显示TODO列表</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c a T</td>
<td class="left">可以指定要显示的状态列表，多个状态使用"竖线"隔开显示</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c a m</td>
<td class="left">匹配 tags and properties</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c a M</td>
<td class="left">匹配搜索的tag</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c a L</td>
<td class="left">采用timeline的方式显示此项目，只能在一个单文件上执行此操作</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c a s</td>
<td class="left">按搜索关键查询</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c a #</td>
<td class="left">列出项目暂停的任务</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-w</td>
<td class="left">导出文件</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Agenda column</td>
<td class="left">C-c C-x C-c</td>
<td class="left">打开column模式在agenda view中</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Capture</td>
<td class="left">C-c c</td>
<td class="left">打开capture</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Export</td>
<td class="left">C-<f12></td>
<td class="left">一次性生成所有目录的org文件为html文件，发布配置见.emacs.d中的配置目录</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-e</td>
<td class="left">导出</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Tables</td>
<td class="left">C-c 竖线</td>
<td class="left">插入表格</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c -</td>
<td class="left">在下面添加水平线</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c RET</td>
<td class="left">添加水平线并跳转到下一行</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-m</td>
<td class="left">在本列下面添加一行</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-S-Right</td>
<td class="left">在本列后面添加一列</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-S-Down</td>
<td class="left">在本行上面添加一行</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-S-Left</td>
<td class="left">删除本列</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-S-UP</td>
<td class="left">删除本行</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-left/right</td>
<td class="left">移动列</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-Up/Down</td>
<td class="left">移动行</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-c</td>
<td class="left">重新定义表格</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c \`</td>
<td class="left">修改隐藏的表格中的内容</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">TAB</td>
<td class="left">跳转下一个单元格</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-a / S-tab</td>
<td class="left">跳转到上一个单元格</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c SPAC</td>
<td class="left">清除当前单元格内容</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Aligns</td>
<td class="left">M-x cfs-switch-profile</td>
<td class="left">修改一下当前buffer使用的字体profile，表格对齐需要按中英文字体宽度相同配置</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-x cfs-edit-profile</td>
<td class="left">修改当前profile的配置，可以在修改字体和大小后，在对应的字体大小行上，执行C-c C-c测试</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-x cfs-increase-fontsize</td>
<td class="left">放大字体，按等宽方式放大，已经绑定快捷键C-x C-=</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">M-x cfs-decrease-fontsize</td>
<td class="left">缩小字体，按等宽方式缩小，已经绑定快捷键C-x M-=</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Archive</td>
<td class="left">C-c C-x a</td>
<td class="left">内部归档，将本任务下的所有子任务标识为灰色，默认将是不可打开的状态，可以通过C-TAB进行打开</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-TAB</td>
<td class="left">打开内部归档后的任务</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x A</td>
<td class="left">将此任务迁移入一个名为"Archive"的标记条下</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x C-a</td>
<td class="left">将此任务迁移到与当前文件名相同名称+\_archive的文件中</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c C-x C-s</td>
<td class="left">同上</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>

<tbody>
<tr>
<td class="left">Refile</td>
<td class="left">C-c C-w</td>
<td class="left">将此标签任务迁移到其它文件中</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">C-c M-w</td>
<td class="left">同上，并保留当前文件内容</td>
</tr>


<tr>
<td class="left">Helm-org</td>
<td class="left">C-x c i</td>
<td class="left">显示当前文件中所有的headings，支持搜索和切换</td>
</tr>


<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>

## Macros<a id="sec-1-7" name="sec-1-7"></a>

### Key bindings configuration for Macros<a id="sec-1-7-1" name="sec-1-7-1"></a>

### Key bindings for Macros<a id="sec-1-7-2" name="sec-1-7-2"></a>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> Org-mode快捷键</caption>

<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">宏</th>
<th scope="col" class="left">C-x (</th>
<th scope="col" class="left">开始录制宏</th>
</tr>


<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">C-x )</th>
<th scope="col" class="left">结束录制宏</th>
</tr>


<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">C-x e</th>
<th scope="col" class="left">使用宏</th>
</tr>


<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">C-u</th>
<th scope="col" class="left">重复使用宏，C-u 100 C-x e重复100次</th>
</tr>


<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">M-x name-last-kbd-macro</th>
<th scope="col" class="left">保存宏，可以在其它地方通过M-x调用此保存好的宏</th>
</tr>
</thead>

<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>

## Markdown mode<a id="sec-1-8" name="sec-1-8"></a>

### Configuration<a id="sec-1-8-1" name="sec-1-8-1"></a>

For markdown mode base configuration, please find [Init-markdown-mode](../03-For-an-editor/init-markdown-mode.el).

    ;; load my own markdown mode configuration from init-markdown-mode.el
    ;;(require 'init-markdown-mode)
      (starter-kit-load "03-For-an-editor/init-markdown-mode.org")

## Tramp<a id="sec-1-9" name="sec-1-9"></a>

### Configuration<a id="sec-1-9-1" name="sec-1-9-1"></a>

    ;; setting for tramp
    (setq tramp-default-method "ssh")
    
    ;; config for caching password for 36000s
    (setq password-cache-expiry 36000)

## DONE Winner mode - undo and redo window configuration<a id="sec-1-10" name="sec-1-10"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:02]</span></span>

`winner-mode` lets you use `C-c <left>` and `C-c <right>` to switch between window configurations. This is handy when something has popped up a buffer that you want to look at briefly before returning to whatever you were working on. When you're done, press `C-c <left>`.

    (use-package winner
      :defer t)

## DONE Mode line format<a id="sec-1-11" name="sec-1-11"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:02]</span></span>

Display a more compact mode line

    (use-package smart-mode-line
      :defer t)

## DONE Undo tree<a id="sec-1-12" name="sec-1-12"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:02]</span></span>

Allow us to visually walk through the changes you've made, undo back to a certain point (or redo), and go down different branches.
Shot key binding: `(C-x u)`

    (use-package undo-tree
      :defer t
      :diminish undo-tree-mode
      :config
      (progn
        (global-undo-tree-mode)
        (setq undo-tree-visualizer-timestamps t)
        (setq undo-tree-visualizer-diff t)))

## DONE Help - guide key<a id="sec-1-13" name="sec-1-13"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:02]</span></span>

This library is very helpful, we can use it to help us remember or find the shot key binding. It will pops up a mini-buffer to show us the shot-key when we typed first part with a shot delay.
`(guide-key)` 包可以帮助我们查看操作的快捷键，对于一些不太常用的快捷键想不起来的时候，可以输入快捷键的前缀后，暂停一下，Emacs即会弹出一个子窗口，列出当前前缀下可以选择的快捷键，及其函数名称。以方便我们进行查找。

    (use-package guide-key
      :defer t
      :diminish guide-key-mode
      :config
      (progn
      (setq guide-key/guide-key-sequence '("C-x r" "C-x 4" "C-c"))
      (guide-key-mode 1)))  ; Enable guide-key-mode

## DONE Encoding configruation<a id="sec-1-14" name="sec-1-14"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:03]</span></span>

This configuration from: <http://www.wisdomandwonder.com/wordpress/wp-content/uploads/2014/03/C3F.html>

    (prefer-coding-system 'utf-8)
    (when (display-graphic-p)
      (setq x-select-request-type '(UTF8_STRING COMPOUND_TEXT TEXT STRING)))

## DONE Helm<a id="sec-1-15" name="sec-1-15"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:03]</span></span>

### Configuration<a id="sec-1-15-1" name="sec-1-15-1"></a>

    (use-package helm
      :defer t
      :diminish helm-mode
      :init
      (progn
        (require 'helm-config)
        (setq helm-candidate-number-limit 100)
        ;; From https://gist.github.com/antifuchs/9238468
        (setq helm-idle-delay 0.0 ; update fast sources immediately (doesn't).
              helm-input-idle-delay 0.01  ; this actually updates things
                                            ; reeeelatively quickly.
              helm-yas-display-key-on-candidate t
              helm-quick-update t
              helm-buffers-fuzzy-matching t
              helm-recentf-fuzzy-match t
              helm-buffers-fuzzy-matching t
              helm-M-x-fuzzy-match t
              helm-mode-fuzzy-match t
              helm-completion-in-region-fuzzy-match t
              helm-recentf-fuzzy-match t
              helm-semantic-fuzzy-match t
              helm-imenu-fuzzy-match t
              helm-apropos-fuzzy-match t
              helm-lisp-fuzzy-completion t
              helm-M-x-requires-pattern nil
              helm-autoresize-mode 1 ;; resize the window
              helm-autoresize-max-height 40 ;; make the max height as 40% percent of current frame height
              helm-ff-skip-boring-files t)
        (helm-mode))
      :bind (("C-c h" . helm-mini)
             ("C-x c a" . helm-apropos)
             ("C-x C-b" . helm-buffers-list)
             ("C-x b" . helm-buffers-list)
             ("M-y" . helm-show-kill-ring)         ("M-x" . helm-M-x)
             ("C-x c o" . helm-occur)
             ("C-x c s" . helm-swoop)
             ("C-x c y" . helm-yas-complete)
             ("C-x c Y" . helm-yas-create-snippet-on-region)
             ("C-x c b" .  helm-do-grep-book-notes)
             ("C-x c i" . helm-org-in-buffer-headings)
             ("C-x c SPC" . helm-all-mark-rings)))
    ;(ido-mode -1) ;; Turn off ido mode in case I enabled it accidentally
    
    
    (use-package helm-descbinds
      :defer t
      :bind (("C-x c b" . helm-descbinds)
             ("C-x c w" . helm-descbinds)))
    
    ;; Use helm to browse my notes files
    (defvar book-notes-directory "~/workspace/github/work-notes")
    (defun helm-do-grep-book-notes ()
      "Search my book notes."
      (interactive)
      (helm-do-grep-1 (list book-notes-directory)))

## DONE Helm-swoop<a id="sec-1-16" name="sec-1-16"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:03]</span></span>

    ;; setting for helm-swoop
    
    ;; https://github.com/ShingoFukuyama/helm-swoop
    (use-package helm-swoop
      :defer t
     :bind
     (("C-S-s" . helm-swoop)
      ("M-i" . helm-swoop)
      ("M-s s" . helm-swoop)
      ("M-s M-s" . helm-swoop)
      ("M-I" . helm-swoop-back-to-last-point)
      ("C-c M-i" . helm-multi-swoop)
      ("C-x M-i" . helm-multi-swoop-all)
      )
     :config
     (progn
    ;; When doing isearch, hand the word over to helm-swoop
       (define-key isearch-mode-map (kbd "M-i") 'helm-swoop-from-isearch)
    ;; From helm-swoop to helm-multi-swoop-all
       (define-key helm-swoop-map (kbd "M-i") 'helm-multi-swoop-all-from-helm-swoop)
    ;; Move up and down like isearch
    (define-key helm-swoop-map (kbd "C-r") 'helm-previous-line)
    (define-key helm-swoop-map (kbd "C-s") 'helm-next-line)
    (define-key helm-multi-swoop-map (kbd "C-r") 'helm-previous-line)
    (define-key helm-multi-swoop-map (kbd "C-s") 'helm-next-line)
    
    )
    )
    
    ;; Save buffer when helm-multi-swoop-edit complete
    (setq helm-multi-swoop-edit-save t)
    
    ;; If this value is t, split window inside the current window
    (setq helm-swoop-split-with-multiple-windows nil)
    
    ;; Split direcion. 'split-window-vertically or 'split-window-horizontally
    (setq helm-swoop-split-direction 'split-window-vertically)
    
    ;; If nil, you can slightly boost invoke speed in exchange for text color
    (setq helm-swoop-speed-or-color nil)
    
    ;; ;; Go to the opposite side of line from the end or beginning of line
    (setq helm-swoop-move-to-line-cycle t)
    
    ;; Optional face for line numbers
    ;; Face name is `helm-swoop-line-number-face`
    (setq helm-swoop-use-line-number-face t)

## DONE Snippets<a id="sec-1-17" name="sec-1-17"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:04]</span></span>

Snippets工具可以让我们使用定义好的代码片断，或者文本块，从而可以通过快捷键的方式快速录入。从而提高录入速度。

    (use-package yasnippet
      :defer t
      :diminish yas-minor-mode
      :init (yas-global-mode)
      :config
      (progn
        (yas-global-mode)
        (add-hook 'hippie-expand-try-functions-list 'yas-hippie-try-expand)
        (setq yas-key-syntaxes '("w_" "w_." "^ "))
        ;;(setq yas-installed-snippets-dir "~/emacs.d-new/yasnippet-snippets")
        (setq yas-installed-snippets-dir (expand-file-name "yasnippet-snippets" user-emacs-directory))
        (setq yas-expand-only-for-last-commands nil)
        (yas-global-mode 1)
        (bind-key "\t" 'hippie-expand yas-minor-mode-map)
        (add-to-list 'yas-prompt-functions 'shk-yas/helm-prompt)))
    
    
    (defun shk-yas/helm-prompt (prompt choices &optional display-fn)
      "Use helm to select a snippet. Put this into `yas/prompt-functions.'"
      (interactive)
      (setq display-fn (or display-fn 'identity))
      (if (require 'helm-config)
          (let (tmpsource cands result rmap)
            (setq cands (mapcar (lambda (x) (funcall display-fn x)) choices))
            (setq rmap (mapcar (lambda (x) (cons (funcall display-fn x) x)) choices))
            (setq tmpsource
                  (list
                   (cons 'name prompt)
                   (cons 'candidates cands)
                   '(action . (("Expand" . (lambda (selection) selection))))
                   ))
            (setq result (helm-other-buffer '(tmpsource) "*helm-select-yasnippet"))
            (if (null result)
                (signal 'quit "user quit!")
              (cdr (assoc result rmap))))
        nil))
    
    
    (setq default-cursor-color "gray")
    (setq yasnippet-can-fire-cursor-color "purple")
    
    ;; It will test whether it can expand, if yes, cursor color -> green.
    (defun yasnippet-can-fire-p (&optional field)
      (interactive)
      (setq yas--condition-cache-timestamp (current-time))
      (let (templates-and-pos)
        (unless (and yas-expand-only-for-last-commands
                     (not (member last-command yas-expand-only-for-last-commands)))
          (setq templates-and-pos (if field
                                      (save-restriction
                                        (narrow-to-region (yas--field-start field)
                                                          (yas--field-end field))
                                        (yas--templates-for-key-at-point))
                                    (yas--templates-for-key-at-point))))
        (and templates-and-pos (first templates-and-pos))))
    
    (defun my/change-cursor-color-when-can-expand (&optional field)
      (interactive)
      (when (eq last-command 'self-insert-command)
        (set-cursor-color (if (my/can-expand)
                              yasnippet-can-fire-cursor-color
                            default-cursor-color))))
    
    (defun my/can-expand ()
      "Return true if right after an expandable thing."
      (or (abbrev--before-point) (yasnippet-can-fire-p)))
    
                                            ; As pointed out by Dmitri, this will make sure it will update color when needed.
    (remove-hook 'post-command-hook 'my/change-cursor-color-when-can-expand)
    
    (defun my/insert-space-or-expand ()
      "For binding to the SPC SPC keychord."
      (interactive)
      (condition-case nil (or (my/hippie-expand-maybe nil) (insert "  "))))
    
    (defun my/hippie-expand-maybe (arg)
      "Try to expand text before point, using multiple methods.
    The expansion functions in `hippie-expand-try-functions-list' are
    tried in order, until a possible expansion is found.  Repeated
    application of `hippie-expand' inserts successively possible
    expansions.
    With a positive numeric argument, jumps directly to the ARG next
    function in this list.  With a negative argument or just \\[universal-argument],
    undoes the expansion."
      (interactive "P")
      (require 'hippie-exp)
      (if (or (not arg)
              (and (integerp arg) (> arg 0)))
          (let ((first (or (= he-num -1)
                           (not (equal this-command last-command)))))
            (if first
                (progn
                  (setq he-num -1)
                  (setq he-tried-table nil)))
            (if arg
                (if (not first) (he-reset-string))
              (setq arg 0))
            (let ((i (max (+ he-num arg) 0)))
              (while (not (or (>= i (length hippie-expand-try-functions-list))
                              (apply (nth i hippie-expand-try-functions-list)
                                     (list (= he-num i)))))
                (setq i (1+ i)))
              (setq he-num i))
            (if (>= he-num (length hippie-expand-try-functions-list))
                (progn (setq he-num -1) nil)
              (if (and hippie-expand-verbose
                       (not (window-minibuffer-p)))
                  (message "Using %s"
                           (nth he-num hippie-expand-try-functions-list)))))
        (if (and (>= he-num 0)
                 (eq (marker-buffer he-string-beg) (current-buffer)))
            (progn
              (setq he-num -1)
              (he-reset-string)
              (if (and hippie-expand-verbose
                       (not (window-minibuffer-p)))
                  (message "Undoing expansions"))))))

## DONE Avy<a id="sec-1-18" name="sec-1-18"></a>

Quickly jump to a position in the current view.
已经转使用ace-isearch，因此此种配置可以去掉。也可以单独保留，与ace-isearch不冲突。

    (use-package avy
      :defer t)
      ;; I use the jj key-chord for this; see the definitions for key-chord
    (use-package avy-zap
      :defer t
      :bind
      (("M-z" . avy-zap-up-to-char-dwim)
       ("M-Z" . avy-zap-to-char-dwim)))

## DONE Ace-isearch mode<a id="sec-1-19" name="sec-1-19"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-30 Mon 20:18]</span></span>

Ace-isearch为集成了isearch, ace-jump-mode, avy, helm-swoop四个模式为一体的更方便的搜索体验。
Ace-isearch会根据输入的内容长度，来判断采用哪种模式。
The "default" behavior can be summrized as:
-   L = 1 : ace-jump-mode or avy
-   1 < L < 6 : isearch
-   L >= 6 : helm-swoop

在实际使用时，如果我需要定位到当前屏幕的具体位置时，则输入第一个字母，然后稍等一下，即启动ace-jump-mode，屏幕此时会Mark上和我输入的首字母相同的位置，并通过不同和字母显示位置，我们只需要根据它显示的位置输入显示的字母，即可完成精准定位。
但当我需要输入一个单词进行搜索时，则输入内容在1-6个字母时，采用的是isearch，即字母完全匹配的全文搜索模式。
当字母大于6个时，即自动启动helm-swoop模式，进行快速选择。

    (use-package ace-isearch
      :config
      (progn
        (global-ace-isearch-mode +1) ;; start this for global
        ;;(setq ace-isearch-funtion-from-isearch 'swoop-from-isearch) ; need to install swoop
        ;;(define-key swoop-map (kbd "C-s") 'swoop-action-goto-line-next)
        ;;(define-key swoop-map (kbd "C-r") 'swoop-action-goto-line-prev)
        (setq ace-isearch-funtion-from-isearch 'helm-swoop-from-isearch)
        ;; (setq ace-isearch-funtion-from-isearch 'helm-occur-from-isearch) ; alternative way
    
        ;; blew configuration can be support for Chinese
        (defadvice ace-jump-char-category (around adv-ace-jump-support-umlauts activate)
          (unless (= (char-syntax (ad-get-arg 0)) ?w)
            ad-do-it)
          (setq ad-return-value 'alpha))
    
        ;; base configuration 
        (custom-set-variables
         '(ace-isearch-input-length 6)
         '(ace-isearch-jump-delay 0.25)
         '(ace-isearch-function 'ace-jump-word-mode)
         ;;'(ace-isearch-function 'avy-goto-char)
         '(ace-isearch-use-jump 'printing-char))
        (define-key isearch-mode-map (kbd "C-'") 'ace-isearch-jump-during-isearch)
        )
    )

## DONE Edit-list<a id="sec-1-20" name="sec-1-20"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:04]</span></span>

M-x edit-list makes it easier to edit an Emacs Lisp list.
\\#+ombegin\_src emacs-lisp :tangle yes
  (use-package edit-list

:defer t

    :commands edit-list)
\\#+end\_src

## DONE Zap to isearch<a id="sec-1-21" name="sec-1-21"></a>

-   State "DONE"       from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-29 Sun 07:04]</span></span>

From Steve Purcell, who linked to <http://www.emacswiki.org/emacs/ZapToISearch>

    (defun zap-to-isearch (rbeg rend)
      "Kill the region between the mark and the closest portion of
    the isearch match string. The behaviour is meant to be analogous
    to zap-to-char; let's call it zap-to-isearch. The deleted region
    does not include the isearch word. This is meant to be bound only
    in isearch mode.  The point of this function is that oftentimes
    you want to delete some portion of text, one end of which happens
    to be an active isearch word. The observation to make is that if
    you use isearch a lot to move the cursor around (as you should,
    it is much more efficient than using the arrows), it happens a
    lot that you could just delete the active region between the mark
    and the point, not include the isearch word."
      (interactive "r")
      (when (not mark-active)
        (error "Mark is not active"))
      (let* ((isearch-bounds (list isearch-other-end (point)))
             (ismin (apply 'min isearch-bounds))
             (ismax (apply 'max isearch-bounds))
             )
        (if (< (mark) ismin)
            (kill-region (mark) ismin)
          (if (> (mark) ismax)
              (kill-region ismax (mark))
            (error "Internal error in isearch kill function.")))
        (isearch-exit)
        ))
    
    (define-key isearch-mode-map [(meta z)] 'zap-to-isearch)

## Projectile - Project management<a id="sec-1-22" name="sec-1-22"></a>

### Configuration<a id="sec-1-22-1" name="sec-1-22-1"></a>

    (use-package projectile
      ;; :defer t
      :diminish projectile-mode
      :config
      (progn
        (setq projectile-keymap-prefix (kbd "C-c p"))
        (setq projectile-completion-system 'default)
        (setq projectile-enable-caching t)
        (setq projectile-indexing-method 'alien)
        (add-to-list 'projectile-globally-ignored-files "node-modules")
        ;; setting for projectile
        (setq projectile-other-file-alist '(("cpp" "h" "hpp" "ipp")
                                            ("ipp" "h" "hpp" "cpp")
                                            ("hpp" "h" "ipp" "cpp")
                                            ("cxx" "hxx" "ixx")
                                            ("ixx" "cxx" "hxx")
                                            ("hxx" "ixx" "cxx")
                                            ("c" "h")
                                            ("m" "h")
                                            ("mm" "h")
                                            ("h" "c" "cpp" "ipp" "hpp" "m" "mm")
                                            ("cc" "hh")
                                            ("hh" "cc")
                                            ("vert" "frag")
                                            ("frag" "vert")
                                            (nil "lock" "gpg")
                                            ("lock" "")
                                            ("gpg" "")
                                            ("js" "css" "html")))
    
        (add-to-list 'projectile-other-file-alist '("css" "js")) ;; switch from css -> js
        (add-to-list 'projectile-other-file-alist '("js" "css")) ;; switch from js -> css
    
    
        ;; setting for helm-projectile
    
        ;;(setq projectile-switch-project-action 'helm-projectile-find-file)
        (setq projectile-switch-project-action 'helm-projectile)
    
        )
    
    
    
      :config
      (projectile-global-mode))
    
    
    (use-package helm-projectile
      :defer t
      :init
      (setq helm-projectile-fuzzy-match t)
      )

### Key binding for helm-projectile<a id="sec-1-22-2" name="sec-1-22-2"></a>

    ;; -----------------------------------------
    ;; helm-project
    ;; -----------------------------------------
    (global-set-key (kbd "C-c h") 'helm-projectile)
      ;; Grep in a projectile
      (global-set-key (kbd "C-c p s g") 'helm-projectile-grep)

## Chinese-font-setup<a id="sec-1-23" name="sec-1-23"></a>

在Org-mode中，编辑表格并让表格的分隔线对齐是一件不太容易的事情，主要原因是因为Org-mode中编辑时字母与汉字同时存在时，则字母字体长度与汉字字体宽度不同的原因导致，因此这里的主要解决方案是找到一种通用等宽字体，通过字体的配置来达到最终表格对齐正常。
感谢Chinese-font-setup的包开发者：

### Configuration<a id="sec-1-23-1" name="sec-1-23-1"></a>

    ;; add font-config for chinese double-width fonts issue
    (use-package chinese-fonts-setup
      :config
      (setq cfs-profiles
            '("program" "org-mode" "read-book"))
    )

### Shot key binding<a id="sec-1-23-2" name="sec-1-23-2"></a>

    ;; Reset Increase Font size and Descrease Font size short key binding after using chinese-font-setup plugin
    ;; Reference: https://github.com/tumashu/chinese-fonts-setup
    (global-unset-key (kbd "C-x C-=")) ;; remove original font-resize
    (global-set-key (kbd "C-x C-=") 'cfs-increase-fontsize)
    (global-set-key (kbd "C-x M-=") 'cfs-decrease-fontsize)

## WAITING Smartparens     :WAITING:<a id="sec-1-24" name="sec-1-24"></a>

-   State "WAITING"    from ""           <span class="timestamp-wrapper"><span class="timestamp">[2016-05-30 Mon 20:36]</span></span>

### Configuration<a id="sec-1-24-1" name="sec-1-24-1"></a>

    (use-package smartparens
      :config
      (require 'smartparens-config)
      (setq sp-autoescape-string-quote nil)
      (--each '(css-mode-hook
                restclient-mode-hook
                js-mode-hook
                java-mode
                ruby-mode
                markdown-mode
                groovy-mode)
        (add-hook it 'turn-on-smartparens-mode))
    
    )

## Expand-region<a id="sec-1-25" name="sec-1-25"></a>

### Configuration<a id="sec-1-25-1" name="sec-1-25-1"></a>

    (use-package expand-region
      :config
      ;; Don't use expand-region fast keys
      (setq expand-region-fast-keys-enabled nil)
    
      ;; Show expand-region command used
      (setq er--show-expansion-message t)
    
      )

### Key bindings for Expand-region<a id="sec-1-25-2" name="sec-1-25-2"></a>

    ;; Expand region (increases selected region by semantic units)
    (global-set-key (kbd "C-'") 'er/expand-region)

## Swap-buffer<a id="sec-1-26" name="sec-1-26"></a>

### Configuration<a id="sec-1-26-1" name="sec-1-26-1"></a>

    ;; add smart swap buffers in multi-windows
    (use-package swap-buffers
      :config
      (global-set-key (kbd "C-x 5") 'swap-buffers)
    )

## Email Reader - Mu4e<a id="sec-1-27" name="sec-1-27"></a>

Please find [Init-Mu4e](../lisp/init-mu4e.md).

    ;; load my mu4e configuration from init-mu4e.el
    ;;(require 'init-mu4e)
      (starter-kit-load "03-For-an-editor/init-mu4e.org")
    
    
    ;;(load-library "init-mu4e")

## Multiple cursors mode<a id="sec-1-28" name="sec-1-28"></a>

Multiple cursor是一个非常强大的多位置同时编辑的编辑模式，文档可参考：
这里有一个介绍详细的视频：<http://emacsrocks.com/e13.html>

### Configuration<a id="sec-1-28-1" name="sec-1-28-1"></a>

    (use-package multiple-cursors
      :defer t
      :bind
       (("C-c m t" . mc/mark-all-like-this)
        ("C-c m m" . mc/mark-all-like-this-dwim)
        ("C-c m l" . mc/edit-lines)
        ("C-c m e" . mc/edit-ends-of-lines)
        ("C-c m a" . mc/edit-beginnings-of-lines)
        ("C-c m n" . mc/mark-next-like-this)
        ("C-c m p" . mc/mark-previous-like-this)
        ("C-c m s" . mc/mark-sgml-tag-pair)
        ("C-c m d" . mc/mark-all-like-this-in-defun)))
    (use-package phi-search
      :defer t)
    (use-package phi-search-mc
      :defer t
      :config (phi-search-mc/setup-keys))
    (use-package mc-extras
      :defer t
      :config (define-key mc/keymap (kbd "C-. =") 'mc/compare-chars))

### Short-key binding<a id="sec-1-28-2" name="sec-1-28-2"></a>

    ;; add multi cursors:
    ;;(require 'multiple-cursors)
    (global-set-key (kbd "C-S-c C-S-c") 'mc/edit-lines)
    (global-set-key (kbd "C->") 'mc/mark-next-like-this)
    (global-set-key (kbd "C-<") 'mc/mark-previous-like-this)
    (global-set-key (kbd "C-c C-<") 'mc/mark-all-like-this)
    
    (global-set-key (kbd "C-S-c C-e") 'mc/edit-ends-of-lines)
    (global-set-key (kbd "C-S-c C-a") 'mc/edit-beginnings-of-lines)

## Latex mode<a id="sec-1-29" name="sec-1-29"></a>

    ;;; latex --- Summary
    ;;; Config for latex
    (use-package auctex
      :defer t)
    
    (use-package cdlatex
      :defer t
      :config
      (add-hook 'LaTex-mode-hook 'turn-on-org-cdlatex) ;; with AUCTex LaTex mode-line
      (add-hook 'LaTex-mode-hook 'turn-on-org-cdlatex) ;; with Emacs latex mode
    )
    ;; (add-hook 'LaTeX-mode-hook 'turn-on-cdlatex)   ; with AUCTeX LaTeX mode
    ;; (add-hook 'latex-mode-hook 'turn-on-cdlatex)   ; with Emacs latex mode
    
    ;; latex-preview-pane is a minor mode for Emacs that enables you to preview your LaTeX files directly in Emacs.
    
    
    (use-package latex-preview-pane
      :defer t
      :config
      (latex-preview-pane-enable))
    ;;(latex-preview-pane-enable)
    
    ;; magical syntax highlighting for LaTeX-mode buffers
    ;;(require-package 'magic-latex-buffer)
    (use-package magic-latex-buffer
      :defer t
      :config
      (add-hook 'latex-mode-hook 'magic-latex-buffer))
    ;;(add-hook 'latex-mode-hook 'magic-latex-buffer)
    
    ;;  Adds several useful functionalities to LaTeX-mode. http://github.com/Bruce-Connor/latex-extra
    
    (use-package latex-extra
      :defer t
      :config
      (add-hook 'latex-mode-hook 'latex-extra-mode))
    
    ;;(add-hook 'LaTeX-mode-hook #'latex-extra-mode)

## TODO Wgrep<a id="sec-1-30" name="sec-1-30"></a>

Wgrep是一个可以允许我们在grep模式下进行直接修改的工具，可以允许我们批量添加上Multiple cursors，然后进行批量修改的工具。在快速修改文件时非常方便，类似于sed的批量匹配，批量修改。

    ;;; 未配置详细操作，暂时不使用
    (use-package wgrep)

## Tabbar<a id="sec-1-31" name="sec-1-31"></a>

Tabbar，在Emacs中显示一个文件的切换标签，并且标签文件按projectile的进行分组显示，以方便在同一个项目中进行维护和切换文件。

### Configuration<a id="sec-1-31-1" name="sec-1-31-1"></a>

    (use-package tabbar)
    
    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Interactive Functions ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    (defun tabbar-select-end-tab ()
      "Select end tab of current tabset."
      (interactive)
      (tabbar-select-beg-tab t))
    
    (defun tabbar-select-beg-tab (&optional backward type)
      "Select beginning tab of current tabs.
    If BACKWARD is non-nil, move backward, otherwise move forward.
    TYPE is default option."
      (interactive)
      (let* ((tabset (tabbar-current-tabset t))
             (ttabset (tabbar-get-tabsets-tabset))
             (cycle (if (and (eq tabbar-cycle-scope 'groups)
                             (not (cdr (tabbar-tabs ttabset))))
                        'tabs
                      tabbar-cycle-scope))
             selected tab)
        (when tabset
          (setq selected (tabbar-selected-tab tabset))
          (setq tabset (tabbar-tabs tabset)
                tab (car (if backward (last tabset) tabset)))
          (tabbar-click-on-tab tab type))))
    
    (defun tabbar-backward-tab-other-window (&optional reversed)
      "Move to left tab in other window.
    Optional argument REVERSED default is move backward, if reversed is non-nil move forward."
      (interactive)
      (other-window 1)
      (if reversed
          (tabbar-forward-tab)
        (tabbar-backward-tab))
      (other-window -1))
    
    (defun tabbar-forward-tab-other-window ()
      "Move to right tab in other window."
      (interactive)
      (tabbar-backward-tab-other-window t))
    
    
    
    ;;; Code:
    
    (defcustom tabbar-hide-header-button t
      "Hide header button at left-up corner.
    Default is t."
      :type 'boolean
      :set (lambda (symbol value)
             (set symbol value)
             (if value
                 (setq
                  tabbar-scroll-left-help-function nil ;don't show help information
                  tabbar-scroll-right-help-function nil
                  tabbar-help-on-tab-function nil
                  tabbar-home-help-function nil
                  tabbar-buffer-home-button (quote (("") "")) ;don't show tabbar button
                  tabbar-scroll-left-button (quote (("") ""))
                  tabbar-scroll-right-button (quote (("") "")))))
      :group 'tabbar)
    
    (defun tabbar-filter (condp lst)
      (delq nil
            (mapcar (lambda (x) (and (funcall condp x) x)) lst)))
    
    (defun tabbar-filter-buffer-list ()
      (tabbar-filter
       (lambda (x)
         (let ((name (format "%s" x)))
           (and
            (not (string-prefix-p "*epc" name))
            (not (string-prefix-p "*helm" name))
            (not (string-prefix-p "*Messages*" name))
            )))
       (delq nil
             (mapcar #'(lambda (b)
                         (cond
                          ;; Always include the current buffer.
                          ((eq (current-buffer) b) b)
                          ((buffer-file-name b) b)
                          ((char-equal ?\  (aref (buffer-name b) 0)) nil)
                          ((buffer-live-p b) b)))
                     (buffer-list)))))
    
    (setq tabbar-buffer-list-function 'tabbar-filter-buffer-list)
    
    
    
    (defvar tabbar-ruler-projectile-tabbar-buffer-group-calc nil
      "Buffer group for projectile.  Should be buffer local and speed up calculation of buffer groups.")
    (defun tabbar-ruler-projectile-tabbar-buffer-groups ()
      "Return the list of group names BUFFER belongs to.
        Return only one group for each buffer."
    
      (if tabbar-ruler-projectile-tabbar-buffer-group-calc
          (symbol-value 'tabbar-ruler-projectile-tabbar-buffer-group-calc)
        (set (make-local-variable 'tabbar-ruler-projectile-tabbar-buffer-group-calc)
    
             (cond
              ((or (get-buffer-process (current-buffer)) (memq major-mode '(comint-mode compilation-mode))) '("Term"))
              ((string-equal "*" (substring (buffer-name) 0 1)) '("Misc"))
              ((condition-case err
                   (projectile-project-root)
                 (error nil)) (list (projectile-project-name)))
              ((memq major-mode '(emacs-lisp-mode python-mode emacs-lisp-mode c-mode c++-mode makefile-mode lua-mode vala-mode)) '("Coding"))
              ((memq major-mode '(javascript-mode js-mode nxhtml-mode html-mode css-mode)) '("HTML"))
              ((memq major-mode '(org-mode calendar-mode diary-mode)) '("Org"))
              ((memq major-mode '(dired-mode)) '("Dir"))
              (t '("Main"))))
        (symbol-value 'tabbar-ruler-projectile-tabbar-buffer-group-calc)))
    
    (defun tabbar-ruler-group-by-projectile-project()
      "Group by projectile project."
      (interactive)
      (setq tabbar-buffer-groups-function 'tabbar-ruler-projectile-tabbar-buffer-groups))
    
    
    
    ;; group by projectile
    (tabbar-ruler-group-by-projectile-project)
    (tabbar-mode)

### Key binding<a id="sec-1-31-2" name="sec-1-31-2"></a>

    ;; -----------------------------------------
    ;; start tabbar-mode
    ;; -----------------------------------------
    (global-set-key (kbd "C-c t") 'tabbar-mode)
    ;; Tabbar, following is default key binding, no need to set again
    ;;(global-set-key (kbd "C-c <C-left>") 'tabbar-forward-tab)
    ;;(global-set-key (kbd "C-c <C-right>") 'tabbar-backward-tab)
    ;;(global-set-key (kbd "C-c <C-up>") 'tabbar-forward-group)
    ;;(global-set-key (kbd "C-c <C-down>") 'tabbar-backward-group)

## Perspective<a id="sec-1-32" name="sec-1-32"></a>

### Configuration<a id="sec-1-32-1" name="sec-1-32-1"></a>

    (use-package perspective
      :config
      ;; Enable perspective mode
      (progn
        (persp-mode t)
        ;; TODO: implement persp-last as before-advice on persp-switch (?)
    
        (defmacro custom-persp (name &rest body)
          `(let ((initialize (not (gethash ,name perspectives-hash)))
                 (current-perspective persp-curr))
             (persp-switch ,name)
             (when initialize ,@body)
             (setq persp-last current-perspective)))
    
        ;; Jump to last perspective
        (defun custom-persp-last ()
          (interactive)
          (persp-switch (persp-name persp-last)))
    
        (define-key persp-mode-map (kbd "C-x p -") 'custom-persp-last)
        )
    )

## Ido<a id="sec-1-33" name="sec-1-33"></a>

Ido工具是为在窗口下面的状态栏中选择、显示时更清晰，操作更方便，并支持模糊匹配选择，这里只保留选择文件时启动ido，其它时间切换buffer等，采用helm进行。

### Configuration<a id="sec-1-33-1" name="sec-1-33-1"></a>

    ;; Use C-f during file selection to switch to regular find-file
    (ido-mode t)
    ;;(ido-everywhere t)
    (setq ido-enable-flex-matching t)
    (setq ido-use-filename-at-point nil)
    (setq ido-auto-merge-work-directories-length 0)
    (setq ido-use-virtual-buffers t)

## Multiple Major Mode<a id="sec-1-34" name="sec-1-34"></a>

### Configuration<a id="sec-1-34-1" name="sec-1-34-1"></a>

    (use-package mmm-mode
      :config
      ;;(require 'mmm-auto)
      (setq mmm-global-mode 'buffers-with-submode-classes)
      (setq mmm-submode-decoration-level 2)
    
      )
